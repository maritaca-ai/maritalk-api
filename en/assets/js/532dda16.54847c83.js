"use strict";(self.webpackChunkmaritaca=self.webpackChunkmaritaca||[]).push([[1597],{1688:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>h});var s=n(4848),a=n(8453),i=n(1470),t=n(9365);const l={id:"batch-api",title:"Batch API",sidebar_label:"Batch API"},c="Vis\xe3o geral",o={id:"pt/batch-api",title:"Batch API",description:"A Batch API da Maritaca oferece opera\xe7\xf5es para:",source:"@site/api/pt/batch-api.md",sourceDirName:"pt",slug:"/pt/batch-api",permalink:"/en/api/pt/batch-api",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"batch-api",title:"Batch API",sidebar_label:"Batch API"},sidebar:"sidebarPt",previous:{title:"Listar Modelos Response",permalink:"/en/api/pt/list-models-response"},next:{title:"Batch API Responses",permalink:"/en/api/pt/batch-api-response"}},d={},h=[{value:"Arquivos <code>/api/files</code>",id:"arquivos-apifiles",level:2},{value:"Listar arquivos",id:"listar-arquivos",level:3},{value:"Par\xe2metros de Consulta",id:"par\xe2metros-de-consulta",level:4},{value:"Upload de arquivo",id:"upload-de-arquivo",level:3},{value:"Corpo da Requisi\xe7\xe3o",id:"corpo-da-requisi\xe7\xe3o",level:4},{value:"Recuperar detalhes de um arquivo",id:"recuperar-detalhes-de-um-arquivo",level:3},{value:"Par\xe2metros de Caminho",id:"par\xe2metros-de-caminho",level:4},{value:"Baixar conte\xfado de um arquivo",id:"baixar-conte\xfado-de-um-arquivo",level:3},{value:"Par\xe2metros de Caminho",id:"par\xe2metros-de-caminho-1",level:4},{value:"Excluir um arquivo",id:"excluir-um-arquivo",level:3},{value:"Par\xe2metros de Caminho",id:"par\xe2metros-de-caminho-2",level:4},{value:"Batch Inference <code>/api/batches</code>",id:"batch-inference-apibatches",level:2},{value:"Criar batch",id:"criar-batch",level:3},{value:"Corpo da Requisi\xe7\xe3o",id:"corpo-da-requisi\xe7\xe3o-1",level:4},{value:"Listar batches",id:"listar-batches",level:3},{value:"Corpo da Requisi\xe7\xe3o",id:"corpo-da-requisi\xe7\xe3o-2",level:4},{value:"Recuperar um batch",id:"recuperar-um-batch",level:3},{value:"Corpo da Requisi\xe7\xe3o",id:"corpo-da-requisi\xe7\xe3o-3",level:4},{value:"Cancelar um batch",id:"cancelar-um-batch",level:3},{value:"Corpo da Requisi\xe7\xe3o",id:"corpo-da-requisi\xe7\xe3o-4",level:4},{value:"Exemplo de Request",id:"exemplo-de-request",level:4}];function u(e){const r={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"vis\xe3o-geral",children:"Vis\xe3o geral"})}),"\n",(0,s.jsx)(r.p,{children:"A Batch API da Maritaca oferece opera\xe7\xf5es para:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Arquivos"})," \u2013 armazenar ou recuperar arquivos usados em requisi\xe7\xf5es."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Batch inference"})," \u2013 executar jobs ass\xedncronos em lote."]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"arquivos-apifiles",children:["Arquivos ",(0,s.jsx)(r.code,{children:"/api/files"})]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"M\xe9todo & Endpoint"}),(0,s.jsx)(r.th,{children:"Descri\xe7\xe3o"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"GET /api/files"})}),(0,s.jsx)(r.td,{children:"Listar todos os arquivos."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"POST /api/files"})}),(0,s.jsx)(r.td,{children:"Fazer upload de um novo arquivo."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"GET /api/files/{file_id}"})}),(0,s.jsx)(r.td,{children:"Detalhes de um arquivo."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"GET /api/files/{file_id}/content"})}),(0,s.jsx)(r.td,{children:"Fazer download do conte\xfado."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"DELETE /api/files/{file_id}"})}),(0,s.jsx)(r.td,{children:"Excluir um arquivo."})]})]})]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Base URL:"})," ",(0,s.jsx)(r.code,{children:"https://chat.maritaca.ai"})]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"listar-arquivos",children:"Listar arquivos"}),"\n",(0,s.jsx)(r.p,{children:"Lista arquivos submetidos."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"GET"})," ",(0,s.jsx)(r.code,{children:"/api/files"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"par\xe2metros-de-consulta",children:"Par\xe2metros de Consulta"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"limit"})," ",(0,s.jsx)(r.code,{children:"integer"})," ",(0,s.jsx)("sup",{class:"sup-opcional",children:"Opcional"}),(0,s.jsx)(r.br,{}),"\n","M\xe1ximo de itens por p\xe1gina."]}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"after"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-opcional",children:"Opcional"}),(0,s.jsx)(r.br,{}),"\n","Cursor para a pr\xf3xima p\xe1gina (valor de ",(0,s.jsx)(r.code,{children:"next_cursor"})," da resposta anterior)."]}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"purpose"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-opcional",children:"Opcional"}),(0,s.jsx)(r.br,{}),"\n","Filtra os arquivos por finalidade (",(0,s.jsx)(r.code,{children:"batch_input"}),")."]}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"order"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-opcional",children:"Opcional"}),(0,s.jsx)(r.br,{}),"\n","Ordem dos arquivos."]})]})}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import openai\n\nclient = openai.OpenAI(\n    api_key="", #Sua API_KEY\n    base_url="https://chat.maritaca.ai/api",\n)\n\nfiles = client.files.list()\nprint(files)         \n'})})}),(0,s.jsx)(t.A,{value:"python4",label:"Direct API Call",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import requests\n\nurl = "https://chat.maritaca.ai/api/files"\nheaders = {"Authorization": f"Key {api_key}"}\n\nresponse = requests.get(url, headers=headers)\nprint(response.json())\n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"upload-de-arquivo",children:"Upload de arquivo"}),"\n",(0,s.jsx)(r.p,{children:"Submete o arquivo que cont\xe9m as requisi\xe7\xf5es."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"POST"})," ",(0,s.jsx)(r.code,{children:"/api/files"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"corpo-da-requisi\xe7\xe3o",children:"Corpo da Requisi\xe7\xe3o"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"file"})," ",(0,s.jsx)(r.code,{children:"file"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),(0,s.jsx)(r.br,{}),"\n","O pr\xf3prio arquivo a ser enviado. Aceita qualquer tipo bin\xe1rio\n(",(0,s.jsx)(r.code,{children:".jsonl"}),", ",(0,s.jsx)(r.code,{children:".csv"}),", ",(0,s.jsx)(r.code,{children:".txt"}),", etc.)."]}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"purpose"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),(0,s.jsx)(r.br,{}),"\n","Define o uso pretendido do arquivo, por exemplo",(0,s.jsx)(r.br,{}),"\n","atualmente apenas ",(0,s.jsx)(r.code,{children:"batch_input"})," \xe9 aceito"]})]})}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'from openai import OpenAI\n\nclient = openai.OpenAI(\n    api_key="", #Sua API_KEY\n    base_url="https://chat.maritaca.ai/api",\n)\n\n\nbatch_input_file = client.files.create(\n    file=open("batch_input.jsonl", "rb"),\n    purpose="batch"\n)\n\nprint(batch_input_file)\n\n     \n'})})}),(0,s.jsx)(t.A,{value:"python4",label:"Direct API Call",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import requests\n\nurl = "https://chat.maritaca.ai/api/files"\nheaders = {"Authorization": f"Key {api_key}"}\n\n\nfiles = {"file": ("batch_input.jsonl", open("batch_input.jsonl", "rb"))}\n\n\nresp = requests.post(url, headers=headers, files=files)\nprint(resp.json())\n\n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"recuperar-detalhes-de-um-arquivo",children:"Recuperar detalhes de um arquivo"}),"\n",(0,s.jsx)(r.p,{children:"Retorna metadata de um arquivo."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"GET"})," ",(0,s.jsx)(r.code,{children:"/api/files/{file_id}"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"par\xe2metros-de-caminho",children:"Par\xe2metros de Caminho"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"file_id"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)("br",{}),"ID do arquivo retornado no upload ou na listagem.",(0,s.jsx)(r.br,{}),"\n","Utilizado para recuperar os metadados completos do arquivo."]})]})}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'metadata = client.files.retrieve("file-1")\nprint(metadata)\n     \n'})})}),(0,s.jsx)(t.A,{value:"python4",label:"Direct API Call",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import requests\n\nfile_id = "file-1"\nurl = f"https://chat.maritaca.ai/api/files/{file_id}"\nheaders = {"Authorization": f"Key {api_key}"}\n\nresp = requests.get(url, headers=headers)\nprint(resp.json())\n\n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"baixar-conte\xfado-de-um-arquivo",children:"Baixar conte\xfado de um arquivo"}),"\n",(0,s.jsx)(r.p,{children:"Retornar o conte\xfado de um arquivo."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"GET"})," ",(0,s.jsx)(r.code,{children:"/api/files/{file_id}/content"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"par\xe2metros-de-caminho-1",children:"Par\xe2metros de Caminho"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"file_id"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)("br",{}),"ID do arquivo, obtido durante o upload ou na listagem."]})]})}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import openai\n\nclient = openai.OpenAI(\n    api_key="", #Sua API_KEY\n    base_url="https://chat.maritaca.ai/api",\n)\n\nmetadata = client.files.retrieve("batch_input.jsonl")\nprint(metadata)\n\n     \n'})})}),(0,s.jsx)(t.A,{value:"python4",label:"Direct API Call",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import requests\n\nfile_id = "batch_input.jsonl"\nurl = f"https://chat.maritaca.ai/api/files/{file_id}"\nheaders = {"Authorization": f"Key {api_key}"}\n\nresp = requests.get(url, headers=headers)\nprint(resp.json())\n\n\n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"excluir-um-arquivo",children:"Excluir um arquivo"}),"\n",(0,s.jsx)(r.p,{children:"Excluir um arquivo."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"DELETE"})," ",(0,s.jsx)(r.code,{children:"/api/files/{file_id}"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"par\xe2metros-de-caminho-2",children:"Par\xe2metros de Caminho"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"file_id"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)("br",{}),"ID do arquivo, obtido durante o upload ou na listagem."]})]})}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'client.files.delete("batch_input.jsonl")\n'})})}),(0,s.jsx)(t.A,{value:"python4",label:"Chamada direta para a API",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import requests\n\nfile_id = "batch_input.jsonl"\nurl = f"https://chat.maritaca.ai/api/files/{file_id}"\nheaders = {"Authorization": f"Key {api_key}"}\n\nresp = requests.delete(url, headers=headers)\nprint(resp.status_code)  \n\n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"batch-inference-apibatches",children:["Batch Inference ",(0,s.jsx)(r.code,{children:"/api/batches"})]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"M\xe9todo & Endpoint"}),(0,s.jsx)(r.th,{children:"Descri\xe7\xe3o"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"GET /api/batches"})}),(0,s.jsx)(r.td,{children:"Listar todos os batches."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"POST /api/batches"})}),(0,s.jsx)(r.td,{children:"Criar um novo batch de infer\xeancia."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"GET /api/batches/{batch_id}"})}),(0,s.jsx)(r.td,{children:"Detalhes de um batch."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"POST /api/batches/{batch_id}/cancel"})}),(0,s.jsx)(r.td,{children:"Cancelar um batch em execu\xe7\xe3o."})]})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"criar-batch",children:"Criar batch"}),"\n",(0,s.jsx)(r.p,{children:"Cria um lote a partir de um arquivo que j\xe1 foi carregado seguindo as recomenda\xe7\xf5es listadas das opera\xe7\xf5es com arquivos."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"POST"})," ",(0,s.jsx)(r.code,{children:"/api/batches"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"corpo-da-requisi\xe7\xe3o-1",children:"Corpo da Requisi\xe7\xe3o"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"input_file_id"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),(0,s.jsx)(r.br,{}),"\n","ID do arquivo ",(0,s.jsx)(r.code,{children:".jsonl"})," contendo as linhas de entrada para o lote."]}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"endpoint"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),(0,s.jsx)(r.br,{}),"\n","Rota de destino que receber\xe1 cada requisi\xe7\xe3o, por exemplo ",(0,s.jsx)(r.code,{children:"/chat/completions"}),"."]}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"completion_window"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-opcional",children:"Opcional"}),(0,s.jsx)(r.br,{}),"\n","Prazo m\xe1ximo de execu\xe7\xe3o (ex.: ",(0,s.jsx)(r.code,{children:"24h"}),", ",(0,s.jsx)(r.code,{children:"1h"}),").",(0,s.jsx)(r.br,{}),"\n","Usado para abortar o job automaticamente ap\xf3s esse per\xedodo."]}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"metadata"})," ",(0,s.jsx)(r.code,{children:"object"})," ",(0,s.jsx)("sup",{class:"sup-opcional",children:"Opcional"}),(0,s.jsx)(r.br,{}),"\n","Qualquer par chave-valor (ex.: ",(0,s.jsx)(r.code,{children:'{"project":"demo"}'}),")."]})]})}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'batch = client.beta.batches.create(\n    input_file_id="file-1",\n    endpoint="/v1/chat/completions",\n    completion_window="24h",\n    metadata={\n        "description": "job for marketing data",\n        "owner": "marketing team"\n    }\n)\nprint(batch.id)\n'})})}),(0,s.jsx)(t.A,{value:"python4",label:"Chamada direta para a API",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import requests, json\n\nurl = "https://chat.maritaca.ai/api/batches"\nheaders = {\n    "Authorization": f"Key {api_key}",\n    "Content-Type": "application/json"\n}\n\npayload = {\n    "input_file_id": "file-1",\n    "endpoint": "/v1/chat/completions",\n    "completion_window": "24h",\n    "metadata": {\n        "description": "job for marketing data",\n        "owner": "marketing team"\n    }\n}\n\nresp = requests.post(url, headers=headers, json=payload)\nprint(resp.json())\n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"listar-batches",children:"Listar batches"}),"\n",(0,s.jsx)(r.p,{children:"Liste seus lotes."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"GET"})," ",(0,s.jsx)(r.code,{children:"/api/batches"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"corpo-da-requisi\xe7\xe3o-2",children:"Corpo da Requisi\xe7\xe3o"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"limit"})," ",(0,s.jsx)(r.code,{children:"integer"})," ",(0,s.jsx)("sup",{class:"sup-opcional",children:"Opcional"}),"\nM\xe1ximo de itens por p\xe1gina."]}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"after"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-opcional",children:"Opcional"}),(0,s.jsx)(r.br,{}),"\n","Cursor para a pr\xf3xima p\xe1gina (valor de ",(0,s.jsx)(r.code,{children:"next_cursor"})," da resposta anterior)."]})]})}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"batches = client.beta.batches.list(limit=10)\nfor batch in batches.data:\n    print(batch.id, batch.status)\n"})})}),(0,s.jsx)(t.A,{value:"python4",label:"Chamada direta para a API",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import requests, json\n\nurl = "https://chat.maritaca.ai/api/batches"\nparams = {"limit": 10}\nheaders = {"Authorization": f"Key {api_key}"}\n\nresp = requests.get(url, headers=headers, params=params)\nprint(resp.json())\n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"recuperar-um-batch",children:"Recuperar um batch"}),"\n",(0,s.jsx)(r.p,{children:"Obt\xe9m todos os detalhes de um job em lote."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"GET"})," ",(0,s.jsx)(r.code,{children:"/api/batches/{batch_id}"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"corpo-da-requisi\xe7\xe3o-3",children:"Corpo da Requisi\xe7\xe3o"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"batch_id"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),"\nID retornado na cria\xe7\xe3o ou listagem."]})]})}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'batch = client.batches.retrieve("batch-1")\nprint(batch)\n'})})}),(0,s.jsx)(t.A,{value:"python4",label:"Chamada direta para a API",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'\nimport requests\n\nbatch_id = "batch1"\nurl = f"https://chat.maritaca.ai/api/batches/{batch_id}"\nheaders = {"Authorization": f"Key {api_key}"}\n\nresp = requests.get(url, headers=headers)\nprint(resp.json())\n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"cancelar-um-batch",children:"Cancelar um batch"}),"\n",(0,s.jsx)(r.p,{children:"Interrompe o processamento de um job em lote."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"POST"})," ",(0,s.jsx)(r.code,{children:"/api/batches/{batch_id}/cancel"})]}),"\n",(0,s.jsx)("div",{class:"container",children:(0,s.jsxs)("div",{class:"container-esquerda",children:[(0,s.jsx)(r.h4,{id:"corpo-da-requisi\xe7\xe3o-4",children:"Corpo da Requisi\xe7\xe3o"}),(0,s.jsx)(r.hr,{}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"batch_id"})," ",(0,s.jsx)(r.code,{children:"string"})," ",(0,s.jsx)("sup",{class:"sup-obrigatorio",children:"Obrigat\xf3rio"}),"\nID retornado na cria\xe7\xe3o ou listagem."]})]})}),"\n",(0,s.jsx)(r.h4,{id:"exemplo-de-request",children:"Exemplo de Request"}),"\n",(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("br",{}),(0,s.jsxs)(i.A,{position:"center",children:[(0,s.jsx)(t.A,{value:"python",label:"Default",default:!0,children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'import openai\ncancelled = client.beta.batches.cancel("batch-1")\nprint(cancelled.status)    \n'})})}),(0,s.jsx)(t.A,{value:"python4",label:"Chamada direta para a API",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'\nimport requests\n\nbatch_id = "batch-1"\nurl = f"https://chat.maritaca.ai/api/batches/{batch_id}/cancel"\nheaders = {"Authorization": f"Key {api_key}"}\n\nresp = requests.post(url, headers=headers)\nprint(resp.json())         \n'})})})]})]}),"\n",(0,s.jsx)(r.hr,{})]})}function p(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},9365:(e,r,n)=>{n.d(r,{A:()=>t});n(6540);var s=n(4164);const a={tabItem:"tabItem_Ymn6"};var i=n(4848);function t(e){let{children:r,hidden:n,className:t}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(a.tabItem,t),hidden:n,children:r})}},1470:(e,r,n)=>{n.d(r,{A:()=>y});var s=n(6540),a=n(4164),i=n(3104),t=n(6347),l=n(205),c=n(7485),o=n(1682),d=n(679);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:r,children:n}=e;return(0,s.useMemo)((()=>{const e=r??function(e){return h(e).map((e=>{let{props:{value:r,label:n,attributes:s,default:a}}=e;return{value:r,label:n,attributes:s,default:a}}))}(n);return function(e){const r=(0,o.XI)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,n])}function p(e){let{value:r,tabValues:n}=e;return n.some((e=>e.value===r))}function x(e){let{queryString:r=!1,groupId:n}=e;const a=(0,t.W6)(),i=function(e){let{queryString:r=!1,groupId:n}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:r,groupId:n});return[(0,c.aZ)(i),(0,s.useCallback)((e=>{if(!i)return;const r=new URLSearchParams(a.location.search);r.set(i,e),a.replace({...a.location,search:r.toString()})}),[i,a])]}function j(e){const{defaultValue:r,queryString:n=!1,groupId:a}=e,i=u(e),[t,c]=(0,s.useState)((()=>function(e){let{defaultValue:r,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!p({value:r,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:r,tabValues:i}))),[o,h]=x({queryString:n,groupId:a}),[j,b]=function(e){let{groupId:r}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(r),[a,i]=(0,d.Dv)(n);return[a,(0,s.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),m=(()=>{const e=o??j;return p({value:e,tabValues:i})?e:null})();(0,l.A)((()=>{m&&c(m)}),[m]);return{selectedValue:t,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),h(e),b(e)}),[h,b,i]),tabValues:i}}var b=n(2303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(4848);function f(e){let{className:r,block:n,selectedValue:s,selectValue:t,tabValues:l}=e;const c=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),d=e=>{const r=e.currentTarget,n=c.indexOf(r),a=l[n].value;a!==s&&(o(r),t(a))},h=e=>{let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;r=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;r=c[n]??c[c.length-1];break}}r?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},r),children:l.map((e=>{let{value:r,label:n,attributes:i}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:s===r?0:-1,"aria-selected":s===r,ref:e=>c.push(e),onKeyDown:h,onClick:d,...i,className:(0,a.A)("tabs__item",m.tabItem,i?.className,{"tabs__item--active":s===r}),children:n??r},r)}))})}function g(e){let{lazy:r,children:n,selectedValue:i}=e;const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(r){const e=t.find((e=>e.props.value===i));return e?(0,s.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:t.map(((e,r)=>(0,s.cloneElement)(e,{key:r,hidden:e.props.value!==i})))})}function q(e){const r=j(e);return(0,v.jsxs)("div",{className:(0,a.A)("tabs-container",m.tabList),children:[(0,v.jsx)(f,{...r,...e}),(0,v.jsx)(g,{...r,...e})]})}function y(e){const r=(0,b.A)();return(0,v.jsx)(q,{...e,children:h(e.children)},String(r))}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>l});var s=n(6540);const a={},i=s.createContext(a);function t(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);